## 無狀態區塊鏈及運用 LRU 快取策略的評估
混畢業，爛研究

### 編譯
```
make
```

### 英文版
為中文版刪減過後的翻譯，放在 `ctapc` 目錄

### QA

#### 順序樹的的非葉子節點不存資料,這樣作的原因是比較快?要有數據
這條看不懂。

如果順序樹的非葉子節點也存資料，請問要怎麽存？葉子節點之間的順序很容易定義，就是由左到右，你想像中非葉子節點也存資料的順序樹，它的節點之間的順序該如何定義？最新的是誰？最舊的是誰？順序該如何維護？這幾項請您告知，這個推廣應該不是顯而易見的。

此外，請注意，一旦非葉子節點也也儲存資料，那路徑複製時，也很可能會遇到上述紅黑樹中需要多次操作雜湊表的問題，請問該如何克服？

#### 你寫順序樹優點是概念上易於理解,那為什麼不用Heap 就好?你說的功能也能做到。

請問要怎麽用 heap 做到我說的功能呢？

第一個困難是，heap 如何持久化？

heap 是一個完全二元樹，最常見的實現是用一個陣列來實作，那請問陣列該如何持久化呢？持久化陣列存、取的時間複雜度都不再是 O(1) 。

另一種較少見的實作，是利用指標的方式來實作一棵樹，但要注意，heap 中加入元素時，有向上交換的操作，此時必須從子節點獲取父節點的指標，而移除元素時，則從根開始，由子節點替補父節點，此時需要從父節點獲取子節點的指標，為了完成此二操作，父子節點指標必須互指，在這種情況下，路徑複製就不管用了，而採用 making data structure persistent 這篇文章的算法又會落入不知該如何刪除舊資料的困境。

第二個困難是，如何從賬號位址找到賬號資訊？雜湊表中儲存的是 heap 的陣列索引/指標？如果是陣列索引/指標，那面對加入元素、刪除元素時發生的父子交換，又會有上述中紅黑樹多次更改雜湊表的開銷。如果不存陣列索引/指標，要存序號嗎？heap 不是搜尋樹，並沒有查找序號的功能，它只能推入元素、刪除最大/最小元素而已。